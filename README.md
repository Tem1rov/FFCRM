# FulfillmentFinance CRM

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è CRM-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É—á–µ—Ç–∞ —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç-—É—Å–ª—É–≥ —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é.

![FulfillmentFinance](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Docker](https://img.shields.io/badge/docker-ready-brightgreen.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- **–î–∞—à–±–æ—Ä–¥** ‚Äî –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (KPI), –≥—Ä–∞—Ñ–∏–∫–∏ –≤—ã—Ä—É—á–∫–∏ –∏ –ø—Ä–∏–±—ã–ª–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤
- **–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏** ‚Äî CRUD —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ –∏ –∏—Ö —É—Å–ª—É–≥–∞–º–∏, –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω
- **–ö–ª–∏–µ–Ω—Ç—ã** ‚Äî –ë–∞–∑–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –ø–æ –∑–∞–∫–∞–∑–∞–º
- **–ó–∞–∫–∞–∑—ã** ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á–µ—Ç–æ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è P&L
- **–§–∏–Ω–∞–Ω—Å—ã** ‚Äî –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á–µ—Ç —Å –¥–≤–æ–π–Ω–æ–π –∑–∞–ø–∏—Å—å—é, –ø—Ä–æ–≤–æ–¥–∫–∏
- **–û—Ç—á–µ—Ç—ã** ‚Äî –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª—É–≥ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚úÖ P&L –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–∫–∞–∑–∞
- ‚úÖ –Æ–Ω–∏—Ç-—ç–∫–æ–Ω–æ–º–∏–∫–∞ (–ø—Ä–∏–±—ã–ª—å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É —Ç–æ–≤–∞—Ä–∞)
- ‚úÖ –î–≤–æ–π–Ω–∞—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∞—è –∑–∞–ø–∏—Å—å
- ‚úÖ –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø (–ê–¥–º–∏–Ω, –ú–µ–Ω–µ–¥–∂–µ—Ä, –ê–Ω–∞–ª–∏—Ç–∏–∫)
- ‚úÖ –ò–º–ø–æ—Ä—Ç –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–æ–≤ –∏–∑ Excel/CSV
- ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend
- Node.js + Express
- TypeScript
- Prisma ORM
- PostgreSQL
- JWT Authentication

### Frontend
- React 18
- TypeScript
- Vite
- TailwindCSS
- Chart.js
- Zustand (state management)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker & Docker Compose
- Nginx (reverse proxy)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker & Docker Compose
- Git

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```bash
git clone <repository-url>
cd CRM
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
```

3. **–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose**
```bash
docker-compose up -d
```

4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ**
- Frontend: http://localhost:3000
- Backend API: http://localhost:4000

### –¢–µ—Å—Ç–æ–≤—ã–µ —É—á–µ—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏

| Email | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å |
|-------|--------|------|
| admin@fulfillment.local | admin123 | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä |
| manager@fulfillment.local | manager123 | –ú–µ–Ω–µ–¥–∂–µ—Ä |
| analyst@fulfillment.local | analyst123 | –ê–Ω–∞–ª–∏—Ç–∏–∫ |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
CRM/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma    # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed.ts          # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/          # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/      # Auth, error handling
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts         # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/             # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ store/           # Zustand store
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å SQLite (–±–µ–∑ Docker)

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL.

**1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Å—Ö–µ–º—É –Ω–∞ SQLite:**
```bash
cd backend
copy prisma\schema.sqlite.prisma prisma\schema.prisma
```

**2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
# Backend
cd backend
npm install
npx prisma migrate dev --name init
npx prisma db seed
npm run dev

# Frontend (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm install
npm run dev
```

**3. –û—Ç–∫—Ä–æ–π—Ç–µ:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:4000

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å PostgreSQL (Docker –¥–ª—è –ë–î)

**1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ PostgreSQL:**
```bash
docker compose up -d postgres
```

**2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DATABASE_URL –¥–ª—è localhost:**
```bash
# –í .env –∏–∑–º–µ–Ω–∏—Ç–µ postgres –Ω–∞ localhost:
DATABASE_URL=postgresql://fulfillment:fulfillment_secret_change_me@localhost:5432/fulfillment_crm?schema=public
```

**3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```bash
cd backend
npm install
npx prisma migrate deploy
npx prisma db seed
npm run dev

cd frontend
npm install
npm run dev
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker compose up -d
```

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | /api/auth/login | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| GET | /api/auth/me | –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| GET/POST | /api/vendors | –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ |
| GET/POST | /api/vendor-services | –£—Å–ª—É–≥–∏ |
| GET/POST | /api/clients | –ö–ª–∏–µ–Ω—Ç—ã |
| GET/POST | /api/orders | –ó–∞–∫–∞–∑—ã |
| GET | /api/dashboard/kpi | KPI –º–µ—Ç—Ä–∏–∫–∏ |
| GET | /api/reports/orders | –û—Ç—á–µ—Ç –ø–æ –∑–∞–∫–∞–∑–∞–º |

## üìä –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
- **Users** ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏
- **Vendors** ‚Äî –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ —É—Å–ª—É–≥
- **VendorServices** ‚Äî –£—Å–ª—É–≥–∏ —Å —Ü–µ–Ω–∞–º–∏
- **Clients** ‚Äî –ö–ª–∏–µ–Ω—Ç—ã
- **Orders** ‚Äî –ó–∞–∫–∞–∑—ã
- **OrderItems** ‚Äî –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–µ
- **CostOperations** ‚Äî –†–∞—Å—Ö–æ–¥–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **IncomeOperations** ‚Äî –ü—Ä–∏—Ö–æ–¥–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **Accounts** ‚Äî –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–µ —Å—á–µ—Ç–∞
- **FinTransactions** ‚Äî –ü—Ä–æ–≤–æ–¥–∫–∏

## üîê –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞

| –§—É–Ω–∫—Ü–∏—è | –ê–¥–º–∏–Ω | –ú–µ–Ω–µ–¥–∂–µ—Ä | –ê–Ω–∞–ª–∏—Ç–∏–∫ |
|---------|-------|----------|----------|
| –î–∞—à–±–æ—Ä–¥ | ‚úÖ | ‚úÖ | ‚úÖ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ | ‚úÖ | ‚úÖ | üëÅ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ | ‚úÖ | ‚úÖ | üëÅ |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏ | ‚úÖ | ‚úÖ | üëÅ |
| –§–∏–Ω–∞–Ω—Å—ã | ‚úÖ | ‚Äî | ‚úÖ |
| –û—Ç—á–µ—Ç—ã | ‚úÖ | ‚úÖ | ‚úÖ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | ‚úÖ | ‚Äî | ‚Äî |

## üåê –î–µ–ø–ª–æ–π –Ω–∞ VPS

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Ñ–∞–π–ª —Å –ø—Ä–æ–¥–∞–∫—à–Ω –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `docker-compose up -d`
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx/Apache –∫–∞–∫ reverse proxy (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)

### –ü—Ä–∏–º–µ—Ä Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```nginx
server {
    listen 80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl;
    server_name your-domain.com;

    ssl_certificate /etc/letsencrypt/live/your-domain.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/your-domain.com/privkey.pem;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------------|----------|--------------|
| DB_USER | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î | fulfillment |
| DB_PASSWORD | –ü–∞—Ä–æ–ª—å –ë–î | fulfillment_secret |
| DB_NAME | –ò–º—è –ë–î | fulfillment_crm |
| JWT_SECRET | –°–µ–∫—Ä–µ—Ç –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤ | ‚Äî |
| JWT_EXPIRES_IN | –°—Ä–æ–∫ –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ | 7d |
| VITE_API_URL | URL API –¥–ª—è frontend | /api |

## ü§ù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**FulfillmentFinance CRM** ‚Äî –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ—É–ª—Ñ–∏–ª–º–µ–Ω—Ç-–æ–ø–µ—Ä–∞—Ü–∏—è–º–∏.
